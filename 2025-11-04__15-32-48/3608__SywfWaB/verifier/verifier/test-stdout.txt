
======== SOLUTION.PY CONTENT ========
from string import *
from re import *
from datetime import *
from collections import *
from heapq import *
from bisect import *
from copy import *
from math import *
from random import *
from statistics import *
from itertools import *
from functools import *
from operator import *
from io import *
from sys import *
from json import *
from builtins import *
from typing import List, Dict, Set, Tuple, Optional, Union, Any
import string
import re
import datetime
import collections
import heapq
import bisect
import copy
import math
import random
import statistics
import itertools
import functools
import operator
import io
import sys
import json
sys.setrecursionlimit(50000)

from typing import List
from functools import lru_cache
from math import gcd

class Solution:
    def subsequencePairCount(self, nums: List[int]) -> int:
        MOD = 10**9 + 7
        n = len(nums)

        # Use memoization with recursion
        # State: (index, gcd1, gcd2) where gcd1 is GCD of seq1, gcd2 is GCD of seq2
        # 0 means empty sequence
        @lru_cache(maxsize=None)
        def dp(index, gcd1, gcd2):
            # Base case: processed all elements
            if index == n:
                # Both sequences must be non-empty and have equal GCD
                if gcd1 > 0 and gcd2 > 0 and gcd1 == gcd2:
                    return 1
                return 0

            result = 0
            current = nums[index]

            # Option 1: Add to seq1
            new_gcd1 = gcd(gcd1, current) if gcd1 > 0 else current
            result += dp(index + 1, new_gcd1, gcd2)
            result %= MOD

            # Option 2: Add to seq2
            new_gcd2 = gcd(gcd2, current) if gcd2 > 0 else current
            result += dp(index + 1, gcd1, new_gcd2)
            result %= MOD

            # Option 3: Skip (don't add to either sequence)
            result += dp(index + 1, gcd1, gcd2)
            result %= MOD

            return result

        return dp(0, 0, 0)

======== END OF SOLUTION.PY CONTENT ========

Input: [[1, 2, 3, 4]]
(functional test) PASSED public_test_1 (test time: 0.00s)
Input: [[10, 20, 30]]
(functional test) PASSED public_test_2 (test time: 0.00s)
Input: [[1, 1, 1, 1]]
(functional test) PASSED public_test_3 (test time: 0.00s)
Input: [[198, 190, 195, 192, 190, 190, 199, 200, 199, 190, 197, 199, 196, 196, 198, 196, 200, 194, 193, 197, 200, 198, 190, 195, 193, 199, 200, 193, 198, 191, 193, 192, 200, 199, 192, 196, 195, 192, 200, 192, 190, 194, 194, 193, 193, 195, 194, 190, 196, 200, 198, 200, 196, 196, 190, 191, 194, 197, 191, 194, 192, 195, 199, 193, 199, 196, 194, 190, 196, 200]]
(functional test) PASSED private_test_1 (test time: 0.02s)
Input: [[6]]
(functional test) PASSED private_test_2 (test time: 0.00s)
Input: [[200, 100, 25, 3, 200, 100, 25, 3, 200, 100, 25, 3, 200, 100, 25, 3, 200, 100, 25, 3, 200, 100, 25, 3, 200, 100, 25, 3, 200, 100, 25, 3, 200, 100, 25, 3, 200, 100, 25, 3, 200, 100, 25, 3, 200, 100, 25, 3, 200, 100, 25, 3, 200, 100, 25, 3, 200, 100, 25, 3, 200, 100, 25, 3, 200, 100, 25, 3, 200, 100, 25, 3, 200, 100, 25, 3, 200, 100, 25, 3, 200, 100, 25, 3, 200, 100, 25, 3, 200, 100, 25, 3, 200, 100, 25, 3, 200, 100, 25, 3]]
(functional test) PASSED private_test_3 (test time: 0.00s)
Input: [[23, 28, 22, 27, 22, 27, 20, 23, 27, 30, 30, 22, 24, 24, 20, 25, 27, 22, 27, 21, 29, 23, 23, 27, 26, 28, 27, 20, 28, 21, 22, 27, 24, 28, 20, 24, 21, 20, 29, 24, 22, 20, 24, 27, 30, 29, 21, 25, 22, 22, 27, 24, 22, 29, 22, 25, 25, 23, 25, 24, 26, 21, 28, 25, 26, 20, 24, 27, 27, 23, 20, 24, 23, 21, 24]]
(functional test) PASSED private_test_4 (test time: 0.02s)
Input: [[7, 2]]
(functional test) PASSED private_test_5 (test time: 0.00s)
Input: [[29, 21, 29, 25, 23, 27, 27, 29, 20, 28, 26, 30, 24, 24, 26, 22, 29, 28, 20, 22, 23, 30, 27, 30, 24, 30, 24, 24, 25, 30, 22, 29, 23, 30, 20, 28, 20, 29, 27, 22, 24, 28, 27, 20, 25, 21, 28, 21, 22, 28, 29, 20, 27, 29, 22, 22, 30, 24, 25, 20, 29, 20, 23, 21, 24, 23, 24, 29, 24, 29, 21, 23, 28, 29, 21]]
(functional test) PASSED private_test_6 (test time: 0.02s)
Input: [[52, 54, 159, 88, 174, 171, 104, 86, 84, 78, 99, 58, 89, 71, 75, 72, 110, 99, 74, 53, 120, 186, 185, 130, 93, 74, 71, 196, 106, 128, 68, 163, 72, 56, 109, 130, 195, 176, 94, 103, 171, 154, 173, 81, 130, 108, 62, 179, 135, 183, 198, 117, 145, 65, 190, 52, 122, 117, 58, 134, 151, 99, 54, 161, 160, 131, 100, 51, 87, 182, 148, 122, 106, 84, 194, 147, 79, 182, 189, 174, 112, 66, 60, 163, 91, 179, 72, 80, 56, 194, 82, 162, 84, 185, 186, 89, 93, 104, 104, 152]]
(functional test) PASSED private_test_7 (test time: 0.42s)
Input: [[192, 196, 197, 196, 199, 195, 199, 192, 196, 190, 193, 199, 200, 197, 200, 200, 191, 197, 196, 198, 198, 200, 194, 197, 196, 191, 194, 197, 200, 193, 195, 195, 194, 190, 196, 190, 191, 195, 190, 199, 198, 196, 191, 194, 190, 198, 196, 191, 197, 199, 200, 195, 192, 197, 192, 193, 198, 197, 193, 192, 199, 200, 191, 195, 193, 193, 193, 198, 190, 191]]
(functional test) PASSED private_test_8 (test time: 0.01s)
Input: [[193, 193, 200, 197, 190, 194, 195, 200, 191, 199, 194, 190, 198, 194, 191, 198, 199, 190, 200, 196, 200, 191, 192, 194, 194, 193, 192, 195, 192, 192, 196, 191, 194, 200, 193, 196, 194, 196, 192, 197, 196, 192, 198, 198, 195, 197, 196, 192, 196, 192, 200, 197, 198, 191, 194, 199, 194, 191, 200, 199, 198, 199, 196, 195, 198, 191, 197, 196, 199, 200, 195, 192, 199, 196, 194, 198, 190, 192, 198, 190, 195, 191, 200, 196, 200, 193, 197, 196, 190, 192, 194, 196, 193, 194, 200, 197, 192, 194, 194, 190, 198, 192, 196, 199, 190, 197, 193, 190, 190, 191, 192, 191, 198, 200, 199, 197, 193, 191, 199, 196, 191, 197, 198, 199, 194, 192, 192, 199, 198, 195, 194, 190, 190, 194, 194, 193, 193, 193, 200, 191, 192, 200, 196, 195, 198, 191, 195, 197, 200, 199, 200, 200, 200, 200, 198, 199, 195, 194, 199, 196, 190, 193, 199, 190, 193, 195, 190, 192, 192, 198, 198, 200, 194, 198, 190, 192, 200, 199, 190, 198, 193, 192, 190, 198, 190, 193, 190, 198, 190, 191, 196, 200, 195, 199, 198, 200, 199, 196, 193, 199]]
(functional test) PASSED private_test_9 (test time: 0.05s)
Input: [[9]]
(functional test) PASSED private_test_10 (test time: 0.00s)
Input: [[8]]
(functional test) PASSED private_test_11 (test time: 0.00s)
Input: [[3]]
(functional test) PASSED private_test_12 (test time: 0.00s)
Input: [[1, 8]]
(functional test) PASSED private_test_13 (test time: 0.00s)
Input: [[3]]
(functional test) PASSED private_test_14 (test time: 0.00s)
Input: [[2]]
(functional test) PASSED private_test_15 (test time: 0.00s)
Input: [[7]]
(functional test) PASSED private_test_16 (test time: 0.00s)
Input: [[8, 6]]
(functional test) PASSED private_test_17 (test time: 0.00s)
Input: [[9]]
(functional test) PASSED private_test_18 (test time: 0.00s)
Input: [[2]]
(functional test) PASSED private_test_19 (test time: 0.00s)
Input: [[8, 7]]
(functional test) PASSED private_test_20 (test time: 0.00s)
Input: [[3]]
(functional test) PASSED private_test_21 (test time: 0.00s)
Input: [[200, 100, 200, 100, 200, 100, 200, 100, 200, 100, 200, 100, 200, 100, 200, 100, 200, 100, 200, 100, 200, 100, 200, 100, 200, 100, 200, 100, 200, 100, 200, 100, 200, 100, 200, 100, 200, 100, 200, 100, 200, 100, 200, 100, 200, 100, 200, 100, 200, 100, 200, 100, 200, 100, 200, 100, 200, 100, 200, 100, 200, 100, 200, 100, 200, 100, 200, 100, 200, 100, 200, 100, 200, 100, 200, 100, 200, 100, 200, 100, 200, 100, 200, 100, 200, 100, 200, 100, 200, 100, 200, 100, 200, 100, 200, 100, 200, 100, 200, 100]]
(functional test) PASSED private_test_22 (test time: 0.00s)
Input: [[22, 28, 24, 23, 27, 22, 29, 25, 27, 29, 28, 22, 24, 30, 24, 21, 21, 22, 29, 25, 29, 30, 23, 27, 30, 21, 30, 26, 30, 27, 21, 23, 25, 29, 23, 30, 20, 22, 20, 25, 20, 26, 26, 23, 29, 20, 23, 24, 23, 30, 27, 30, 24, 30, 20, 22, 25, 24, 30, 26]]
(functional test) PASSED private_test_23 (test time: 0.01s)
Input: [[53, 119, 111, 166, 127, 129, 122, 83, 163, 159, 62, 195, 91, 105, 51, 164, 62, 113, 70, 108, 194, 167, 55, 103, 192, 118, 95, 128, 173, 152, 71, 154, 135, 114, 106, 148, 77, 54, 58, 147, 138, 153, 180, 167, 195, 157, 105, 56, 58, 159, 174, 140, 104, 171, 140, 123, 88, 64, 100, 130, 84, 131, 135, 112, 123, 54, 54, 155, 137, 188, 155, 89, 129, 81, 58, 170, 101, 62, 61, 78]]
(functional test) PASSED private_test_24 (test time: 0.25s)
Input: [[1, 6]]
(functional test) PASSED private_test_25 (test time: 0.00s)
Input: [[9, 1]]
(functional test) PASSED private_test_26 (test time: 0.00s)
Input: [[6]]
(functional test) PASSED private_test_27 (test time: 0.00s)
Input: [[7, 8]]
(functional test) PASSED private_test_28 (test time: 0.00s)
Input: [[23, 20, 22, 21, 26, 22, 20, 27, 30, 24, 24, 22, 28, 24, 28, 26, 24, 29, 23, 21, 24, 25, 22, 24, 30, 23, 25, 29, 25, 20, 25, 23, 30, 24, 20, 29, 23, 23, 25, 29, 30, 24, 27, 30, 25, 24, 27, 27, 26, 23, 24, 30, 20, 30, 29, 24, 28, 21, 23, 22, 26, 29, 20, 22, 26, 26, 20, 26, 29, 23, 25, 30, 25, 26, 27]]
(functional test) PASSED private_test_29 (test time: 0.02s)
Input: [[28, 27, 26, 29, 20, 26, 24, 21, 25, 20, 29, 20, 24, 22, 20, 25, 20, 21, 24, 30, 30, 25, 24, 24, 21, 24, 26, 26, 21, 23, 25, 24, 28, 30, 30, 26, 21, 23, 28, 28, 24, 25, 27, 20, 30, 30, 21, 30, 21, 21, 24, 24, 25, 23, 22, 20, 29, 25, 30, 21, 28, 21, 26, 29, 24, 23, 29, 23, 28, 25, 29, 21, 24, 29, 23]]
(functional test) PASSED private_test_30 (test time: 0.02s)
Input: [[28, 20, 20, 27, 26, 26, 26, 25, 20, 30, 28, 29, 30, 29, 24, 30, 28, 20, 25, 24, 30, 21, 29, 22, 24, 24, 20, 25, 21, 21, 25, 20, 25, 22, 25, 26, 28, 24, 23, 24, 28, 27, 23, 25, 26, 20, 27, 27, 24, 24, 30, 27, 20, 22, 22, 22, 20, 26, 28, 25, 23, 21, 23, 25, 29, 28, 29, 22, 21, 24, 29, 23, 27, 26, 26]]
(functional test) PASSED private_test_31 (test time: 0.02s)
Input: [[10, 4]]
(functional test) PASSED private_test_32 (test time: 0.00s)
Input: [[7, 7]]
(functional test) PASSED private_test_33 (test time: 0.00s)
Input: [[8, 1]]
(functional test) PASSED private_test_34 (test time: 0.00s)
Input: [[2]]
(functional test) PASSED private_test_35 (test time: 0.00s)
Input: [[145, 82, 113, 101, 85, 142, 129, 150, 60, 89, 113, 55, 190, 136, 179, 177, 115, 148, 168, 160, 93, 163, 51, 66, 76, 62, 100, 135, 140, 109, 178, 169, 94, 183, 181, 190, 129, 193, 67, 126, 113, 166, 82, 103, 168, 145, 171, 105, 176, 178, 182, 190, 189, 67, 68, 194, 131, 116, 191, 148, 73, 189, 200, 167, 69, 84, 174, 185, 74, 137, 99, 109, 175, 88, 90, 186, 110, 129, 183, 87, 177, 177, 93, 110, 193, 80, 183, 178, 143, 66, 105, 148, 100, 145, 145, 149, 159, 164, 165, 130, 116, 191, 131, 83, 183, 76, 57, 187, 131, 64, 114, 96, 74, 70, 173, 68, 92, 115, 158, 200, 105, 81, 88, 62, 66, 181, 111, 68, 170, 73, 105, 124, 114, 132, 132, 196, 54, 144, 179, 136, 186, 89, 181, 106, 195, 194, 196, 151, 149, 138, 161, 82, 102, 163, 73, 191, 123, 188, 168, 128, 102, 165, 121, 66, 112, 159, 152, 159, 147, 174, 122, 165, 98, 66, 82, 79, 86, 195, 143, 138, 73, 94, 141, 143, 185, 107, 102, 105, 62, 159, 155, 56, 66, 185, 177, 144, 176, 161, 150, 115]]
(functional test) PASSED private_test_36 (test time: 2.36s)
Input: [[10, 6]]
(functional test) PASSED private_test_37 (test time: 0.00s)
Input: [[10, 6]]
(functional test) PASSED private_test_38 (test time: 0.00s)
Input: [[8]]
(functional test) PASSED private_test_39 (test time: 0.00s)
Input: [[4]]
(functional test) PASSED private_test_40 (test time: 0.00s)
=========================== short test summary info ============================
PASSED public_test_1
PASSED public_test_2
PASSED public_test_3
PASSED private_test_1
PASSED private_test_2
PASSED private_test_3
PASSED private_test_4
PASSED private_test_5
PASSED private_test_6
PASSED private_test_7
PASSED private_test_8
PASSED private_test_9
PASSED private_test_10
PASSED private_test_11
PASSED private_test_12
PASSED private_test_13
PASSED private_test_14
PASSED private_test_15
PASSED private_test_16
PASSED private_test_17
PASSED private_test_18
PASSED private_test_19
PASSED private_test_20
PASSED private_test_21
PASSED private_test_22
PASSED private_test_23
PASSED private_test_24
PASSED private_test_25
PASSED private_test_26
PASSED private_test_27
PASSED private_test_28
PASSED private_test_29
PASSED private_test_30
PASSED private_test_31
PASSED private_test_32
PASSED private_test_33
PASSED private_test_34
PASSED private_test_35
PASSED private_test_36
PASSED private_test_37
PASSED private_test_38
PASSED private_test_39
PASSED private_test_40
=========================== 43 passed in 0.01s ===========================

ðŸŽ‰ TASK PASSED: All 43 tests passed!


======== SOLUTION.PY CONTENT ========
from collections import deque

def solve():
    H, W, Y = map(int, input().split())
    grid = []
    for _ in range(H):
        row = list(map(int, input().split()))
        grid.append(row)

    # Track which cells have sunk
    sunk = [[False] * W for _ in range(H)]

    for year in range(1, Y + 1):
        sea_level = year

        # Find all cells that should sink at this sea level
        queue = deque()
        visited = [[False] * W for _ in range(H)]

        # First, check boundary cells - they're adjacent to sea
        for i in range(H):
            for j in range(W):
                if i == 0 or i == H-1 or j == 0 or j == W-1:
                    # Boundary cell
                    if grid[i][j] <= sea_level:
                        # This boundary cell sinks
                        sunk[i][j] = True
                        queue.append((i, j))
                        visited[i][j] = True

        # Also add already sunk cells to queue
        for i in range(H):
            for j in range(W):
                if sunk[i][j] and not visited[i][j]:
                    queue.append((i, j))
                    visited[i][j] = True

        # BFS to find newly sunk cells through propagation
        while queue:
            i, j = queue.popleft()

            # Check neighbors
            for di, dj in [(0, 1), (0, -1), (1, 0), (-1, 0)]:
                ni, nj = i + di, j + dj
                if 0 <= ni < H and 0 <= nj < W and not visited[ni][nj]:
                    visited[ni][nj] = True
                    # This neighbor is adjacent to a sunk cell
                    # Check if it should sink
                    if grid[ni][nj] <= sea_level:
                        sunk[ni][nj] = True
                        queue.append((ni, nj))

        # Count remaining area
        remaining = 0
        for i in range(H):
            for j in range(W):
                if not sunk[i][j]:
                    remaining += 1

        print(remaining)

solve()

======== END OF SOLUTION.PY CONTENT ========

Input: 3 3 5
10 2 10
3 1 4
10 5 10

(stdin test) PASSED public_test_1 (test time: 0.07s)
Input: 3 5 3
2 2 3 3 3
2 1 2 1 3
2 2 3 3 3

(stdin test) PASSED public_test_2 (test time: 0.02s)
Input: 1000 1000 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 ...
(stdin test) PASSED private_test_1 (test time: 2.47s)
Input: 1000 994 99969
82246 86207 70422 100000 81492 79291 82241 83182 78145 93483 100000 72514 93312 10000...
(stdin test) FAILED private_test_2: Subprocess timed out after 30 seconds
Input: 999 995 99975
31784 3847 53796 70231 98017 13048 66489 54014 20858 24179 64403 77060 47119 49595 359...
(stdin test) FAILED private_test_3: Subprocess timed out after 30 seconds
Input: 1000 1000 100000
99938 99949 99919 99907 99922 99982 99972 99968 99987 99932 99966 99921 99967 99998...
(stdin test) FAILED private_test_4: Subprocess timed out after 30 seconds
Input: 998 993 99927
86175 37060 18727 22783 79128 4251 20633 78291 21877 20966 91310 70954 78986 76768 436...
(stdin test) FAILED private_test_5: Subprocess timed out after 30 seconds
Input: 1 1 100000
88127

(stdin test) PASSED private_test_6 (test time: 1.39s)
Input: 1000 1000 100000
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1...
(stdin test) FAILED private_test_7: Subprocess timed out after 30 seconds
Input: 1000 992 99977
68105 44855 18980 26186 59205 96941 19526 63288 12823 27676 79641 75995 36972 95801 8...
(stdin test) FAILED private_test_8: Subprocess timed out after 30 seconds
Input: 995 991 99974
88407 75119 72437 91523 51659 50629 92612 85131 53470 70913 63954 99007 96677 55806 57...
(stdin test) FAILED private_test_9: Subprocess timed out after 30 seconds
Input: 1000 1000 100000
100000 100000 100000 100000 100000 100000 100000 100000 100000 100000 100000 100000...
(stdin test) FAILED private_test_10: Subprocess timed out after 30 seconds
Input: 999 991 99944
99180 97260 99609 100000 100000 100000 100000 99924 97700 97722 100000 98090 97878 986...
(stdin test) FAILED private_test_11: Subprocess timed out after 30 seconds
Input: 1000 1000 100000
99917 99955 99978 99983 99936 99977 99967 99964 99973 99949 99977 99932 99955 99994...
(stdin test) FAILED private_test_12: Subprocess timed out after 30 seconds
Input: 1000 1000 100000
87565 10500 93181 31882 98408 8999 91268 31396 75883 29606 99340 9286 74605 9929 78...
(stdin test) FAILED private_test_13: Subprocess timed out after 30 seconds
Input: 997 1000 99954
12521 1444 11557 3309 42873 48267 19208 49024 26361 8260 3046 722 10886 8549 10519 32...
(stdin test) FAILED private_test_14: Subprocess timed out after 30 seconds
Input: 996 999 99984
87893 93557 87037 81635 83140 70358 100000 100000 71282 72160 85091 87281 77780 92115 ...

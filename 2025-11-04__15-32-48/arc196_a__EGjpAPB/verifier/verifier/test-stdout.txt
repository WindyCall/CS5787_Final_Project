
======== SOLUTION.PY CONTENT ========
import sys

def solve():
    n = int(input())
    arr = list(map(int, input().split()))

    # Memoization cache
    memo = {}

    def dp(remaining):
        """
        Calculate maximum score for a given sequence of remaining elements.
        remaining is a tuple of indices that are still in the sequence.
        """
        if len(remaining) <= 1:
            return 0

        # Convert to tuple for hashing
        key = tuple(remaining)
        if key in memo:
            return memo[key]

        max_score = 0

        # Try removing each adjacent pair
        for i in range(len(remaining) - 1):
            idx1 = remaining[i]
            idx2 = remaining[i + 1]

            # Score from removing this pair
            score = abs(arr[idx1] - arr[idx2])

            # New remaining sequence after removing this pair
            new_remaining = remaining[:i] + remaining[i+2:]

            # Recursively solve for the new sequence
            total_score = score + dp(new_remaining)
            max_score = max(max_score, total_score)

        memo[key] = max_score
        return max_score

    # Start with all indices
    initial = tuple(range(n))
    result = dp(initial)
    print(result)

solve()

======== END OF SOLUTION.PY CONTENT ========

Input: 4
1 2 5 3
(stdin test) PASSED public_test_1 (test time: 0.01s)
Input: 7
3 1 4 1 5 9 2
(stdin test) PASSED public_test_2 (test time: 0.01s)
Input: 5
1 1 1 1 1
(stdin test) PASSED public_test_3 (test time: 0.01s)
Input: 4564
253140288 293305612 750791934 354530934 444237786 846682985 925663544 350567355 60308833 883113...
(stdin test) FAILED private_test_1: Solution crashed with error: Traceback (most recent call last):
  File "/app/solution.py", line 48, in <module>
    solve()
  File "/app/solution.py", line 45, in solve
    result = dp(initial)
             ^^^^^^^^^^^
  File "/app/solution.py", line 37, in dp
    total_score = score + dp(new_remaining)
                          ^^^^^^^^^^^^^^^^^
  File "/app/solution.py", line 37, in dp
    total_score = score + dp(new_remaining)
                          ^^^^^^^^^^^^^^^^^
  File "/app/solution.py", line 37, in dp
    total_score = score + dp(new_remaining)
                          ^^^^^^^^^^^^^^^^^
  [Previous line repeated 994 more times]
  File "/app/solution.py", line 26, in dp
    for i in range(len(remaining) - 1):
             ^^^^^^^^^^^^^^^^^^^^^^^^^
RecursionError: maximum recursion depth exceeded in comparison
 (test time: 0.06s)
Input: 63
55449 10966 48278 28854 34199 76708 21835 56522 25159 46992 15075 8370 92014 3621 68920 59194 986...
(stdin test) FAILED private_test_2: Subprocess timed out after 30 seconds
Input: 52
68827 19447 33671 78983 20435 49677 76409 38586 94127 92586 61661 8698 11095 67703 5167 8698 2950...
(stdin test) FAILED private_test_3: Subprocess timed out after 30 seconds
Input: 4
5 11 90 70
(stdin test) PASSED private_test_4 (test time: 0.01s)
Input: 10
34 8 71 2 12 93 52 91 86 81
(stdin test) PASSED private_test_5 (test time: 0.01s)
Input: 7
32 94 42 91 9 25 73
(stdin test) PASSED private_test_6 (test time: 0.02s)
Input: 9
76 81 43 25 32 3 94 35 15
(stdin test) PASSED private_test_7 (test time: 0.01s)
Input: 4095
420780767 233947049 554840540 636547608 182648834 884916996 751181228 848085946 601059840 73604...
(stdin test) FAILED private_test_8: Solution crashed with error: Traceback (most recent call last):
  File "/app/solution.py", line 48, in <module>
    solve()
  File "/app/solution.py", line 45, in solve
    result = dp(initial)
             ^^^^^^^^^^^
  File "/app/solution.py", line 37, in dp
    total_score = score + dp(new_remaining)
                          ^^^^^^^^^^^^^^^^^
  File "/app/solution.py", line 37, in dp
    total_score = score + dp(new_remaining)
                          ^^^^^^^^^^^^^^^^^
  File "/app/solution.py", line 37, in dp
    total_score = score + dp(new_remaining)
                          ^^^^^^^^^^^^^^^^^
  [Previous line repeated 994 more times]
  File "/app/solution.py", line 26, in dp
    for i in range(len(remaining) - 1):
             ^^^^^^^^^^^^^^^^^^^^^^^^^
RecursionError: maximum recursion depth exceeded in comparison
 (test time: 0.06s)
Input: 4617
461401120 280347828 198428665 200538276 51262355 592145732 154436671 753910092 808350247 729147...
(stdin test) FAILED private_test_9: Solution crashed with error: Traceback (most recent call last):
  File "/app/solution.py", line 48, in <module>
    solve()
  File "/app/solution.py", line 45, in solve
    result = dp(initial)
             ^^^^^^^^^^^
  File "/app/solution.py", line 37, in dp
    total_score = score + dp(new_remaining)
                          ^^^^^^^^^^^^^^^^^
  File "/app/solution.py", line 37, in dp
    total_score = score + dp(new_remaining)
                          ^^^^^^^^^^^^^^^^^
  File "/app/solution.py", line 37, in dp
    total_score = score + dp(new_remaining)
                          ^^^^^^^^^^^^^^^^^
  [Previous line repeated 994 more times]
  File "/app/solution.py", line 26, in dp
    for i in range(len(remaining) - 1):
             ^^^^^^^^^^^^^^^^^^^^^^^^^
RecursionError: maximum recursion depth exceeded in comparison
 (test time: 0.06s)
Input: 3
71 43 70
(stdin test) PASSED private_test_10 (test time: 0.01s)
Input: 5
31 19 70 58 12
(stdin test) PASSED private_test_11 (test time: 0.01s)
Input: 2
79 64
(stdin test) PASSED private_test_12 (test time: 0.01s)
Input: 5
5 4 3 2 1
(stdin test) PASSED private_test_13 (test time: 0.01s)
Input: 7
999999999 500000000 1000000000 1 50 999999999 123456789
(stdin test) PASSED private_test_14 (test time: 0.02s)
Input: 57
20243 36492 2435 5545 5330 26967 89260 34036 73185 41251 48090 74380 5506 98191 91925 79639 85900...
(stdin test) FAILED private_test_15: Subprocess timed out after 30 seconds
Input: 9
46 75 28 65 18 37 18 97 13
(stdin test) PASSED private_test_16 (test time: 0.01s)
Input: 3
19 90 29
(stdin test) PASSED private_test_17 (test time: 0.01s)
Input: 2
1 1000000000
(stdin test) PASSED private_test_18 (test time: 0.02s)
Input: 3
41 66 63
(stdin test) PASSED private_test_19 (test time: 0.01s)
Input: 6
69 91 78 19 40 13
(stdin test) PASSED private_test_20 (test time: 0.01s)
Input: 100
51384 58272 48704 99172 24967 59700 46735 82840 9875 5852 5241 63723 33474 3494 68166 87361 7461...
(stdin test) FAILED private_test_21: Subprocess timed out after 30 seconds
Input: 6
61 9 12 87 97 17
(stdin test) PASSED private_test_22 (test time: 0.01s)
Input: 3
88 43 61
(stdin test) PASSED private_test_23 (test time: 0.01s)
Input: 3
42 79 15
(stdin test) PASSED private_test_24 (test time: 0.01s)
Input: 2
87 3
(stdin test) PASSED private_test_25 (test time: 0.01s)
Input: 4736
598908184 170761327 510287219 258490672 85211324 765576073 562294660 961406501 278749559 962592...
(stdin test) FAILED private_test_26: Solution crashed with error: Traceback (most recent call last):
  File "/app/solution.py", line 48, in <module>
    solve()
  File "/app/solution.py", line 45, in solve
    result = dp(initial)
             ^^^^^^^^^^^
  File "/app/solution.py", line 37, in dp
    total_score = score + dp(new_remaining)
                          ^^^^^^^^^^^^^^^^^
  File "/app/solution.py", line 37, in dp
    total_score = score + dp(new_remaining)
                          ^^^^^^^^^^^^^^^^^
  File "/app/solution.py", line 37, in dp
    total_score = score + dp(new_remaining)
                          ^^^^^^^^^^^^^^^^^
  [Previous line repeated 994 more times]
  File "/app/solution.py", line 26, in dp
    for i in range(len(remaining) - 1):
             ^^^^^^^^^^^^^^^^^^^^^^^^^
RecursionError: maximum recursion depth exceeded in comparison
 (test time: 0.07s)
Input: 3
1000000000 1 1000000000
(stdin test) PASSED private_test_27 (test time: 0.02s)
Input: 2
61 88
(stdin test) PASSED private_test_28 (test time: 0.01s)
Input: 5
48 22 43 55 8
(stdin test) PASSED private_test_29 (test time: 0.01s)
Input: 8
73 66 40 84 46 50 85 33
(stdin test) PASSED private_test_30 (test time: 0.01s)
Input: 3262
408379618 609039611 79539565 815987205 943294820 737464875 883555784 556770331 451937168 286016...
(stdin test) FAILED private_test_31: Solution crashed with error: Traceback (most recent call last):
  File "/app/solution.py", line 48, in <module>
    solve()
  File "/app/solution.py", line 45, in solve
    result = dp(initial)
             ^^^^^^^^^^^
  File "/app/solution.py", line 37, in dp
    total_score = score + dp(new_remaining)
                          ^^^^^^^^^^^^^^^^^
  File "/app/solution.py", line 37, in dp
    total_score = score + dp(new_remaining)
                          ^^^^^^^^^^^^^^^^^
  File "/app/solution.py", line 37, in dp
    total_score = score + dp(new_remaining)
                          ^^^^^^^^^^^^^^^^^
  [Previous line repeated 994 more times]
  File "/app/solution.py", line 26, in dp
    for i in range(len(remaining) - 1):
             ^^^^^^^^^^^^^^^^^^^^^^^^^
RecursionError: maximum recursion depth exceeded in comparison
 (test time: 0.05s)
Input: 2
1000000000 1000000000
(stdin test) PASSED private_test_32 (test time: 0.01s)
Input: 6
1 1 1 1 1 1
(stdin test) PASSED private_test_33 (test time: 0.01s)
Input: 3
62 27 94
(stdin test) PASSED private_test_34 (test time: 0.01s)
Input: 5
99 8 87 21 21
(stdin test) PASSED private_test_35 (test time: 0.01s)
Input: 8
98 54 6 34 66 63 52 39
(stdin test) PASSED private_test_36 (test time: 0.01s)
Input: 3
77 50 41
(stdin test) PASSED private_test_37 (test time: 0.01s)
Input: 8
26 34 46 94 61 73 22 90
(stdin test) PASSED private_test_38 (test time: 0.02s)
Input: 5
1000000000 999999999 999999998 999999997 999999996
(stdin test) PASSED private_test_39 (test time: 0.01s)
Input: 8
12 48 15 5 78 3 25 24
(stdin test) PASSED private_test_40 (test time: 0.01s)
=========================== short test summary info ============================
FAILED private_test_1
FAILED private_test_2
FAILED private_test_3
FAILED private_test_8
FAILED private_test_9
FAILED private_test_15
FAILED private_test_21
FAILED private_test_26
FAILED private_test_31
========================= 9 failed, 34 passed in 0.01s =========================

‚ùå TASK FAILED: 9 out of 43 tests failed!

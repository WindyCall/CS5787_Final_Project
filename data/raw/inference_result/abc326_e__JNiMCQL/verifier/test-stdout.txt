
======== SOLUTION.PY CONTENT ========
MOD = 998244353

def modinv(a, m=MOD):
    """Compute modular inverse using Fermat's little theorem"""
    return pow(a, m - 2, m)

def solve():
    N = int(input())
    A = [0] + list(map(int, input().split()))  # 1-indexed: A[1], A[2], ..., A[N]

    # E[i] = expected salary when current x = i
    # When at state i, we roll the die (1 to N with prob 1/N each):
    #   - If roll j > i: get A[j] and move to state j
    #   - If roll j <= i: terminate
    # E[i] = (1/N) * sum(A[j] + E[j] for j = i+1 to N)

    # Work backwards from E[N]
    E = [0] * (N + 1)

    inv_N = modinv(N)

    # Base case: E[N] = 0 (can't roll anything > N)

    # Fill backwards from N-1 to 0
    for i in range(N - 1, -1, -1):
        # E[i] = (1/N) * sum(A[j] + E[j] for j = i+1 to N)
        total = 0
        for j in range(i + 1, N + 1):
            total = (total + A[j] + E[j]) % MOD
        E[i] = (total * inv_N) % MOD

    print(E[0])

solve()

======== END OF SOLUTION.PY CONTENT ========

Input: 3
3 2 6

(stdin test) PASSED public_test_1 (test time: 0.02s)
Input: 1
998244352

(stdin test) PASSED public_test_2 (test time: 0.01s)
Input: 9
3 14 159 2653 58979 323846 2643383 27950288 419716939

(stdin test) PASSED public_test_3 (test time: 0.07s)
Input: 1
0

(stdin test) PASSED private_test_1 (test time: 0.02s)
Input: 1
998244352

(stdin test) PASSED private_test_2 (test time: 0.02s)
Input: 2682
552809710 64429461 806415333 100898601 938728235 237263091 572467315 92779813 61723444 63064835...
(stdin test) PASSED private_test_3 (test time: 1.20s)
Input: 5596
179800715 643028994 703611941 565850714 721103957 864833752 621201873 328301984 822848607 18801...
(stdin test) PASSED private_test_4 (test time: 5.29s)
Input: 25270
130709657 657637487 400069574 408548197 196873882 801114758 811305560 248116467 975408633 1502...
(stdin test) FAILED private_test_5: Subprocess timed out after 30 seconds
Input: 26378
248730846 777335822 480805258 937653236 332517635 107196473 990499175 520456763 203466841 7217...
(stdin test) FAILED private_test_6: Subprocess timed out after 30 seconds
Input: 61725
586082136 1211750 461974171 293458106 413338594 722921046 283422433 375401988 875138889 948917...
(stdin test) FAILED private_test_7: Subprocess timed out after 30 seconds
Input: 66282
754969048 769596739 500885832 621047665 438406849 735661892 575800958 593568852 916796632 8949...
(stdin test) FAILED private_test_8: Subprocess timed out after 30 seconds
Input: 300000
47939866 128162115 66939793 69688679 418626117 679808855 560879926 891419309 924108999 388466...
(stdin test) FAILED private_test_9: Subprocess timed out after 30 seconds
Input: 300000
641229891 617128036 742359140 379862336 93565183 929292959 174515729 350220568 463234633 3428...
(stdin test) FAILED private_test_10: Subprocess timed out after 30 seconds
Input: 300000
738850457 55061310 923868269 136747509 410923146 711910801 389443911 85526252 342004430 29831...
ubprocess timed out after 30 seconds
Input: 300000
96147303 112556261 94347721 543760858 439577938 787730313 339777832 261083504 554092525 87726...
(stdin test) FAILED private_test_12: Subprocess timed out after 30 seconds
=========================== short test summary info ============================
FAILED private_test_7
FAILED private_test_8
FAILED private_test_9
FAILED private_test_10
FAILED private_test_11
FAILED private_test_12
========================= 6 failed, 9 passed in 0.01s =========================

‚ùå TASK FAILED: 6 out of 15 tests failed!

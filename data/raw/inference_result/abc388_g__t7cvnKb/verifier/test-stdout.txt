
======== SOLUTION.PY CONTENT ========
def solve_query(mochi):
    """
    Find the maximum number of kagamimochi pairs.

    Greedy approach:
    - Use two pointers: left (smallest) and right (second half)
    - For each mochi on the left, try to pair it with a mochi from the right half
    - If a pair can be made (left_mochi * 2 <= right_mochi), count it
    - This maximizes matches because pairing smallest with available creates room for others
    """
    n = len(mochi)

    # Split into two halves
    left = 0
    right = (n + 1) // 2

    count = 0
    while left < (n + 1) // 2 and right < n:
        if mochi[left] * 2 <= mochi[right]:
            # Can make a pair
            count += 1
            left += 1
            right += 1
        else:
            # Try next candidate from the larger mochi
            right += 1

    return count

# Read input
N = int(input())
A = list(map(int, input().split()))
Q = int(input())

# Process each query
for _ in range(Q):
    L, R = map(int, input().split())
    # Convert to 0-indexed
    L -= 1
    R -= 1

    # Extract the subarray
    subarray = A[L:R+1]

    # Solve
    result = solve_query(subarray)
    print(result)

======== END OF SOLUTION.PY CONTENT ========

Input: 11
1 1 2 3 4 4 7 10 11 12 20
5
2 5
3 8
7 11
1 2
1 11
(stdin test) PASSED public_test_1 (test time: 0.01s)
Input: 24
127 148 170 174 258 311 331 414 416 436 517 523 532 587 591 638 660 748 760 776 837 857 972 984
1...
(stdin test) PASSED public_test_2 (test time: 0.02s)
Input: 10
999999954 999999956 999999958 999999961 999999961 999999965 999999974 999999992 999999992 9999999...
(stdin test) PASSED private_test_1 (test time: 0.01s)
Input: 17
1 1 6 6 7 9 18 21 28 29 35 38 44 45 55 84 88
20
13 15
15 16
11 16
4 14
3 16
11 14
15 17
9 10
2 6
...
(stdin test) PASSED private_test_2 (test time: 0.01s)
Input: 10
26 168 174 183 231 243 305 350 432 497
10
2 9
2 9
2 9
2 9
2 9
2 9
2 9
2 9
2 9
2 9
(stdin test) PASSED private_test_3 (test time: 0.01s)
Input: 16
1 1 12 15 27 28 38 39 58 60 62 80 81 82 90 97
10
9 14
3 10
12 16
2 13
8 12
9 16
7 12
11 12
2 7
15...
(stdin test) PASSED private_test_4 (test time: 0.01s)
Input: 12
11 14 24 38 38 42 61 69 71 75 76 82
10
3 10
3 6
4 10
9 10
4 7
5 8
7 8
3 4
7 8
2 5
(stdin test) PASSED private_test_5 (test time: 0.01s)
Input: 19
1 2 8 12 32 34 43 52 57 62 64 67 71 79 81 86 91 93 94
11
3 10
8 12
5 18
18 19
3 6
11 19
4 9
18 19...
(stdin test) PASSED private_test_6 (test time: 0.01s)
Input: 15
4 4 11 20 33 42 46 54 56 58 64 88 93 94 100
3
2 8
12 13
6 12
(stdin test) PASSED private_test_7 (test time: 0.02s)
Input: 10
190 307 349 425 464 472 746 792 800 866
30
1 2
1 2
2 5
2 6
3 10
6 10
9 10
8 10
8 10
6 9
4 5
2 8
7...
(stdin test) PASSED private_test_8 (test time: 0.01s)
Input: 12
1 2 4 8 16 32 64 128 256 512 1024 2048
6
1 10
7 12
6 11
11 12
4 11
4 11
(stdin test) PASSED private_test_9 (test time: 0.01s)
Input: 1545
369801 837996 1466370 3319093 3577757 4133671 4641960 4956298 5530509 5643252 6824639 6875105 7...
(stdin test) PASSED private_test_10 (test time: 0.06s)
Input: 10
55 263 400 418 479 490 539 920 953 988
10
1 2
2 3
3 4
4 5
5 6
6 7
7 8
8 9
9 10
5 6
(stdin test) PASSED private_test_11 (test time: 0.02s)
Input: 14
5 6 22 52 54 54 73 73 85 87 90 91 91 99
15
2 7
12 13
8 13
8 13
10 11
1 9
6 11
8 9
13 14
4 13
11 1...
(stdin test) PASSED private_test_12 (test time: 0.01s)
Input: 5
4 9 58 68 90
7
1 5
4 5
2 5
1 3
2 3
2 4
4 5
(stdin test) PASSED private_test_13 (test time: 0.01s)
Input: 147
138 1182 1383 1528 1769 2162 2396 2707 2950 5944 6837 7034 8787 9015 10045 10715 11268 13506 135...
(stdin test) PASSED private_test_14 (test time: 0.02s)
Input: 18
5 10 12 27 38 54 55 62 65 67 69 74 77 77 87 96 97 98
13
8 9
1 7
10 15
11 12
16 18
10 17
13 17
2 8...
(stdin test) PASSED private_test_15 (test time: 0.01s)
Input: 10
1 1 1 1 1 1 1 1 1 1
10
4 10
8 9
5 10
3 6
4 7
9 10
4 9
6 10
1 9
3 10
(stdin test) PASSED private_test_16 (test time: 0.01s)
Input: 166
96 323 485 739 1766 1789 2517 2558 2797 2979 3126 3299 3433 3644 4023 4335 4824 5005 5786 5790 6...
(stdin test) PASSED private_test_17 (test time: 0.02s)
Input: 8
1 2 13 68 79 87 92 97
7
1 6
6 7
7 8
3 5
1 5
7 8
6 7
(stdin test) PASSED private_test_18 (test time: 0.01s)
Input: 128
645 925 1375 2775 3380 4722 5126 7033 7433 8978 9024 10215 11191 11377 12091 12341 12808 13344 1...
(stdin test) PASSED private_test_19 (test time: 0.01s)
Input: 60
845 2171 6524 12964 14063 15499 15563 15964 16789 22620 23644 26370 28583 28843 30090 30381 32608...
(stdin test) PASSED private_test_20 (test time: 0.01s)
Input: 1918
1158247 1394130 1827584 2017380 2261411 4247533 4391261 5133402 5401617 6007586 6243321 6536474...
(stdin test) PASSED private_test_21 (test time: 0.07s)
Input: 1773
686787 1602571 2397378 2873476 3652956 3847120 5625372 5814700 6214260 7915734 8074095 8490420 ...
(stdin test) PASSED private_test_22 (test time: 0.09s)
Input: 9
4 6 10 16 69 74 78 82 88
7
2 6
2 5
2 3
1 5
3 9
2 6
4 5
(stdin test) PASSED private_test_23 (test time: 0.01s)
Input: 7
2 10 19 27 30 47 77
1
2 3
(stdin test) PASSED private_test_24 (test time: 0.01s)
Input: 18
10 13 14 15 16 39 39 43 44 44 52 54 61 62 62 72 90 94
16
14 15
10 16
5 8
13 14
3 16
3 7
8 9
13 14...
(stdin test) PASSED private_test_25 (test time: 0.01s)
Input: 3
18 36 70
8
2 3
2 3
1 3
2 3
1 2
1 3
1 2
1 3
(stdin test) PASSED private_test_26 (test time: 0.01s)
Input: 148
18 200 621 1947 2038 2039 2141 3573 4090 7509 7986 10862 11508 12128 12212 12591 12666 13166 134...
(stdin test) PASSED private_test_27 (test time: 0.02s)
Input: 3
27 34 88
18
2 3
1 3
2 3
2 3
1 3
2 3
1 2
2 3
2 3
1 3
1 2
2 3
1 3
2 3
1 3
1 3
1 2
2 3
(stdin test) PASSED private_test_28 (test time: 0.01s)
Input: 6
14 25 37 56 74 97
15
3 5
2 5
4 6
2 6
2 5
2 4
2 6
3 5
4 6
4 5
2 6
2 3
4 5
2 3
2 5
(stdin test) PASSED private_test_29 (test time: 0.02s)
Input: 1517
474973 1551448 1581335 2882367 3141013 3345661 3846063 3972531 4273371 4282049 6129159 6572698 ...
(stdin test) PASSED private_test_30 (test time: 0.04s)
Input: 2
38 48
1
1 2
(stdin test) PASSED private_test_31 (test time: 0.01s)
Input: 12
16 16 17 38 38 50 80 84 88 88 92 96
17
4 5
7 11
6 8
8 11
11 12
1 2
8 11
1 10
11 12
4 6
11 12
9 11...
(stdin test) PASSED private_test_32 (test time: 0.01s)
Input: 86
2337 4651 9908 10107 11582 11624 11982 15173 15306 16317 17839 18258 18708 18872 19083 19478 2032...
(stdin test) PASSED private_test_33 (test time: 0.03s)
Input: 7
15 17 34 45 59 62 91
1
2 5
(stdin test) PASSED private_test_34 (test time: 0.01s)
Input: 16
7 11 11 13 16 20 28 31 53 53 57 57 59 64 79 98
3
14 16
9 16
15 16
(stdin test) PASSED private_test_35 (test time: 0.01s)
Input: 2
36 58
4
1 2
1 2
1 2
1 2
(stdin test) PASSED private_test_36 (test time: 0.01s)
Input: 10
1 1 2 2 4 4 8 8 16 16
5
2 3
9 10
3 7
6 7
6 10
(stdin test) PASSED private_test_37 (test time: 0.01s)
Input: 14
6 18 28 34 39 46 52 54 62 63 65 66 75 98
10
3 5
10 13
9 14
3 8
2 14
2 13
6 14
9 10
6 13
6 10
(stdin test) PASSED private_test_38 (test time: 0.01s)
Input: 4
51 70 88 90
17
2 3
1 4
3 4
3 4
2 4
3 4
1 3
3 4
2 4
1 2
1 4
2 3
3 4
2 3
2 4
1 2
1 4
(stdin test) PASSED private_test_39 (test time: 0.01s)
Input: 1115
1010744 1197274 3251965 7878316 8780841 8978409 10950840 11406343 12158027 12308838 13197981 13...
(stdin test) PASSED private_test_40 (test time: 0.04s)
=========================== short test summary info ============================
PASSED public_test_1
PASSED public_test_2
PASSED private_test_1
PASSED private_test_2
PASSED private_test_3
PASSED private_test_4
PASSED private_test_5
PASSED private_test_6
PASSED private_test_7
PASSED private_test_8
PASSED private_test_9
PASSED private_test_10
PASSED private_test_11
PASSED private_test_12
PASSED private_test_13
PASSED private_test_14
PASSED private_test_15
PASSED private_test_16
PASSED private_test_17
PASSED private_test_18
PASSED private_test_19
PASSED private_test_20
PASSED private_test_21
PASSED private_test_22
PASSED private_test_23
PASSED private_test_24
PASSED private_test_25
PASSED private_test_26
PASSED private_test_27
PASSED private_test_28
PASSED private_test_29
PASSED private_test_30
PASSED private_test_31
PASSED private_test_32
PASSED private_test_33
PASSED private_test_34
PASSED private_test_35
PASSED private_test_36
PASSED private_test_37
PASSED private_test_38
PASSED private_test_39
PASSED private_test_40
=========================== 42 passed in 0.01s ===========================

ðŸŽ‰ TASK PASSED: All 42 tests passed!


======== SOLUTION.PY CONTENT ========
from collections import deque
from itertools import combinations

def read_input():
    line = input().strip()
    parts = line.split()
    N = int(parts[0])
    P = int(parts[1])
    return N, P

class UnionFind:
    def __init__(self, n):
        self.parent = list(range(n))
        self.rank = [0] * n

    def find(self, x):
        if self.parent[x] != x:
            self.parent[x] = self.find(self.parent[x])
        return self.parent[x]

    def union(self, x, y):
        px, py = self.find(x), self.find(y)
        if px == py:
            return False
        if self.rank[px] < self.rank[py]:
            px, py = py, px
        self.parent[py] = px
        if self.rank[px] == self.rank[py]:
            self.rank[px] += 1
        return True

    def is_connected(self):
        root = self.find(0)
        return all(self.find(i) == root for i in range(len(self.parent)))

def check_graph_fast(edges_in_combo, edge_list, N):
    """
    Check if graph is connected and has balanced even/odd distances.
    """
    # First check connectivity using Union-Find
    uf = UnionFind(N)
    for idx in edges_in_combo:
        u, v = edge_list[idx]
        uf.union(u, v)

    if not uf.is_connected():
        return False

    # Build adjacency list for BFS
    adj = [[] for _ in range(N)]
    for idx in edges_in_combo:
        u, v = edge_list[idx]
        adj[u].append(v)
        adj[v].append(u)

    # BFS to get distances
    dist = [0] * N
    visited = [False] * N
    queue = deque([0])
    visited[0] = True

    while queue:
        u = queue.popleft()
        for v in adj[u]:
            if not visited[v]:
                visited[v] = True
                dist[v] = dist[u] + 1
                queue.append(v)

    # Count even distances
    even_count = 1  # vertex 0 is at distance 0
    for i in range(1, N):
        if dist[i] % 2 == 0:
            even_count += 1

    return even_count == N // 2

def solve(N, P):
    max_possible = N * (N - 1) // 2
    edge_list = [(i, j) for i in range(N) for j in range(i + 1, N)]

    results = [0] * (max_possible + 1)

    # Process combinations
    for M in range(N - 1, max_possible + 1):
        for combo in combinations(range(len(edge_list)), M):
            if check_graph_fast(combo, edge_list, N):
                results[M] += 1

    return [results[M] % P for M in range(N - 1, max_possible + 1)]

N, P = read_input()
answers = solve(N, P)
print(' '.join(map(str, answers)))

======== END OF SOLUTION.PY CONTENT ========

Input: 4 998244353
(stdin test) PASSED public_test_1 (test time: 0.09s)
Input: 6 924844033
(stdin test) PASSED public_test_2 (test time: 1.09s)
Input: 10 433416647
(stdin test) FAILED public_test_3: Subprocess timed out after 30 seconds
Input: 30 100000039
(stdin test) FAILED private_test_1: Subprocess timed out after 30 seconds
Input: 6 100000037
(stdin test) PASSED private_test_2 (test time: 0.51s)
Input: 28 999999937
(stdin test) FAILED private_test_3: Subprocess timed out after 30 seconds
Input: 10 100000037
(stdin test) FAILED private_test_4: Subprocess timed out after 30 seconds
Input: 2 100000039
(stdin test) PASSED private_test_5 (test time: 0.02s)
Input: 24 999999937
(stdin test) FAILED private_test_6: Subprocess timed out after 30 seconds
Input: 2 999999937
(stdin test) PASSED private_test_7 (test time: 0.02s)
Input: 2 100000007
(stdin test) PASSED private_test_8 (test time: 0.02s)
Input: 6 100000007
(stdin test) PASSED private_test_9 (test time: 0.38s)
Input: 6 999999937
(stdin test) PASSED private_test_10 (test time: 0.38s)
Input: 4 100000037
(stdin test) PASSED private_test_11 (test time: 0.02s)
Input: 14 100000037
(stdin test) FAILED private_test_12: Subprocess timed out after 30 seconds
Input: 18 999999937
: Subprocess timed out after 30 seconds
Input: 18 999999937
(stdin test) FAILED private_test_13: Subprocess timed out after 30 seconds
Input: 10 999999937
(stdin test) FAILED private_test_14: Subprocess timed out after 30 seconds
Input: 2 100000007
(stdin test) PASSED private_test_15 (test time: 0.01s)
Input: 16 100000037
(stdin test) FAILED private_test_16: Subprocess timed out after 30 seconds
Input: 2 100000039
(stdin test) PASSED private_test_17 (test time: 0.07s)
Input: 16 999999937
(stdin test) FAILED private_test_18: Subprocess timed out after 30 seconds
Input: 14 100000037
(stdin test) FAILED private_test_19: Subprocess timed out after 30 seconds
Input: 20 100000007
(stdin test) FAILED private_test_20: Subprocess timed out after 30 seconds
Input: 2 100000039
(stdin test) PASSED private_test_21 (test time: 0.01s)
Input: 8 999999937
